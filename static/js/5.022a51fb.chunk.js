(this["webpackJsonpbudget-app-v2"]=this["webpackJsonpbudget-app-v2"]||[]).push([[5],{56:function(t,e,n){"use strict";var r={};n.r(r),n.d(r,"fetchBudget",(function(){return i})),n.d(r,"fetchBudgetedCategories",(function(){return s})),n.d(r,"addTransaction",(function(){return d}));var a={};n.r(a),n.d(a,"fetchAllCategories",(function(){return l}));var c=n(19),u=n.n(c),o=n(26),i=function(){var t=Object(o.a)(u.a.mark((function t(){var e,n;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fetch("".concat("https://my-json-server.typicode.com/dawidrynkal/budgetAppData","/budgets/1/?_embed=transactions"));case 2:return e=t.sent,console.log("https://my-json-server.typicode.com/dawidrynkal/budgetAppData"),t.next=6,e.json();case 6:return n=t.sent,t.abrupt("return",n);case 8:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),s=function(){var t=Object(o.a)(u.a.mark((function t(){var e,n;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fetch("".concat("https://my-json-server.typicode.com/dawidrynkal/budgetAppData","/budgets/1/budgetCategories"));case 2:return e=t.sent,t.next=5,e.json();case 5:return n=t.sent,t.abrupt("return",n);case 7:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),d=function(){var t=Object(o.a)(u.a.mark((function t(e){var n,r,a;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.budgetId,r=e.values,t.next=3,fetch("".concat("https://my-json-server.typicode.com/dawidrynkal/budgetAppData","/budgets/").concat(n,"/transactions"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(r)});case 3:return a=t.sent,t.abrupt("return",a.json());case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),l=function(){var t=Object(o.a)(u.a.mark((function t(){var e,n;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fetch("".concat("https://my-json-server.typicode.com/dawidrynkal/budgetAppData","/categories/?_expand=parentCategory"));case 2:return e=t.sent,n=e.json(),t.abrupt("return",n);case 5:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();e.a={budget:r,common:a}},57:function(t,e,n){"use strict";n.d(e,"a",(function(){return r})),n.d(e,"b",(function(){return a}));var r=function(t){var e=Number(t);return new Intl.NumberFormat("pl",{style:"currency",currency:"PLN"}).format(e)},a=function(t){var e=new Date(t);return new Intl.DateTimeFormat("pl").format(e)}},63:function(t,e,n){"use strict";n.r(e),n.d(e,"default",(function(){return j}));var r=n(16),a=n(0),c=n.n(a),u=n(18),o=n(27),i=n(56),s=n(4),d=n(2);function l(){var t=Object(s.a)(["\nmargin-left:10px;\nmargin-bottom:1px;\nborder: 1px solid black;\npadding: 10px;\ndisplay:flex;\njustify-content: space-between;\n> *:nth-child(1) {\n    flex: 4;\n}\n> *:nth-child(2) {\n    flex: 2;\n}\n> *:nth-child(3) {\n    flex: 3;\n}\n> *:nth-child(4) {\n    flex: 1;\n}\n"]);return l=function(){return t},t}function f(){var t=Object(s.a)(["\n> li + li {\n    margin-top: 10px;\n}\n"]);return f=function(){return t},t}var p=d.default.ul(f()),b=d.default.li(l()),m=n(58),g=n(57),y=n(9),v=n(21),h=n(29);var j=Object(u.b)(null,{setTransacionDetails:function(t){return{type:v.b,payload:t}}})((function(t){var e=t.setTransacionDetails,n=Object(o.c)("budget",i.a.budget.fetchBudget).data,u=Object(o.c)("allCategories",i.a.common.fetchAllCategories).data,s=Object(o.c)("budgetedCategories",i.a.budget.fetchBudgetedCategories).data,d=Object(a.useContext)(h.a.store).state.selectedCategoryId,l=Object(a.useMemo)((function(){return"undefined"===typeof d?n.transactions:null===d?n.transactions.filter((function(t){return!s.some((function(e){return e.categoryId===t.categoryId}))})):n.transactions.filter((function(t){try{return u.find((function(e){return e.id===t.categoryId})).parentCategory.name===d}catch(e){return!1}}))}),[u,n.transactions,s,d]),f=Object(a.useMemo)((function(){return Object(m.groupBy)(l,(function(t){return new Date(t.date).getUTCDate()}))}),[l]);return c.a.createElement(p,null,Object.entries(f).map((function(t){var n=Object(r.a)(t,2),a=(n[0],n[1]);return c.a.createElement("li",null,c.a.createElement("ul",null,a.map((function(t){return c.a.createElement(b,{key:t.id},c.a.createElement("div",null,t.description),c.a.createElement("div",null,Object(g.a)(t.amount)),c.a.createElement("div",null,Object(g.b)(t.date)),c.a.createElement("div",null,(u.find((function(e){return e.id===t.categoryId}))||{}).name),c.a.createElement(y.a,{to:"/budget/transactions/details",variant:"regular",onClick:function(){return n=t.id,r=t.categoryId,void e({identity:n,categoryNumber:r});var n,r}}," Show more"))}))))})))}))}}]);
//# sourceMappingURL=5.022a51fb.chunk.js.map